<!DOCTYPE html>
<html lang="mr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="рд╣рд░рд┐ рдЬрдк рд╕рд╛рдзрдирд╛ - рдЖрдзреНрдпрд╛рддреНрдорд┐рдХ рдпрд╛рддреНрд░рд╛">
  <title>рд╣рд░рд┐ рдЬрдк рд╕рд╛рдзрдирд╛ - рд▓реЙрдЧрд┐рди</title>
  
  <!-- Flask static file URLs -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/harijaplogin.css') }}">
  
  <!-- Google Fonts for Devanagari -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Devanagari:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Animated background decorations -->
  <div class="bg-decoration"></div>
  <div class="bg-decoration"></div>
  <div class="bg-decoration"></div>
  
  <div class="container">
    <div class="login-card">
      <!-- Header Section -->
      <div class="header">
        <div class="om-symbol">ЁЯХЙя╕П</div>
        <h1 class="title">рд╣рд░рд┐ рдЬрдк рд╕рд╛рдзрдирд╛</h1>
        <p class="subtitle">рдЖрдзреНрдпрд╛рддреНрдорд┐рдХ рдпрд╛рддреНрд░рд╛ рд╢реБрд░реВ рдХрд░реЗрдВ</p>
      </div>
      
      <!-- Information Banner -->
      <div class="info-banner">
        рд╣рд░рд┐ рдЬрдк рд╕рд╛рдзрдирд╛ рд╢реБрд░реБ рдХрд░рдгреЗрд╕реЗ рдкрд╣реАрд▓реЗ рднрдХреНрддрдЧрди рдиреЛрдВрджрдгреАрдореЗ рдЖрдкрдирд╛ рдирд╛рдо, рдореЛрдмрд╛рдИрд▓ рдирдВрдмрд░ рджрд░реНрдЬ рдХрд░реЗред
      </div>
      
      <!-- Message Container for Success/Error -->
      <div id="messageContainer"></div>
      
      <!-- Login Form -->
      <form id="loginForm" onsubmit="event.preventDefault(); sendOTP();">
        <!-- CSRF Token (if using Flask-WTF) -->
        {% if csrf_token %}
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
        {% endif %}
        
        <!-- Name Input -->
        <div class="form-group">
          <label for="name">
            рдирд╛рдо (рдЕрдВрдЧреНрд░реЗрдЬреА рдореЗрдВ) *
            <span class="tooltip" data-tooltip="рдХреГрдкрдпрд╛ рдЕрдкрдирд╛ рдкреВрд░рд╛ рдирд╛рдо рдЕрдВрдЧреНрд░реЗрдЬреА рдореЗрдВ рджрд░реНрдЬ рдХрд░реЗрдВ">тД╣я╕П</span>
          </label>
          <div class="input-wrapper">
            <span class="input-icon">ЁЯСд</span>
            <input 
              type="text" 
              id="name" 
              name="name"
              placeholder="рдЕрдкрдирд╛ рдирд╛рдо рдЕрдВрдЧреНрд░реЗрдЬреА рдореЗрдВ рджрд░реНрдЬ рдХрд░реЗрдВ"
              maxlength="50"
              required
              autocomplete="name"
              value="{{ name if name else '' }}"
            >
          </div>
          <div class="char-count" id="nameCount">0 / 50</div>
        </div>
        
        <!-- Mobile Input -->
        <div class="form-group">
          <label for="mobile">
            рдореЛрдмрд╛рдЗрд▓ рдирдВрдмрд░ *
            <span class="tooltip" data-tooltip="10 рдЕрдВрдХреЛрдВ рдХрд╛ рднрд╛рд░рддреАрдп рдореЛрдмрд╛рдЗрд▓ рдирдВрдмрд░">тД╣я╕П</span>
          </label>
          <div class="input-wrapper">
            <span class="input-icon">ЁЯУ▒</span>
            <input 
              type="tel" 
              id="mobile" 
              name="mobile"
              placeholder="10 рдЕрдВрдХреЛрдВ рдХрд╛ рдореЛрдмрд╛рдЗрд▓ рдирдВрдмрд░"
              maxlength="10"
              pattern="[6-9][0-9]{9}"
              required
              autocomplete="tel"
              value="{{ mobile if mobile else '' }}"
            >
          </div>
        </div>
        
        <!-- OTP Input (Hidden by default) -->
        <div class="form-group" id="otpGroup" style="display: none;">
          <label for="otp">
            OTP рджрд░реНрдЬ рдХрд░реЗрдВ *
            <span class="tooltip" data-tooltip="рдЖрдкрдХреЗ рдореЛрдмрд╛рдЗрд▓ рдкрд░ рднреЗрдЬрд╛ рдЧрдпрд╛ 6 рдЕрдВрдХреЛрдВ рдХрд╛ OTP">тД╣я╕П</span>
          </label>
          <div class="input-wrapper">
            <span class="input-icon">ЁЯФР</span>
            <input 
              type="text" 
              id="otp" 
              name="otp"
              placeholder="6 рдЕрдВрдХреЛрдВ рдХрд╛ OTP"
              maxlength="6"
              pattern="[0-9]{6}"
              autocomplete="one-time-code"
            >
          </div>
          <div class="otp-timer" id="otpTimer"></div>
          <button type="button" class="resend-otp-btn" id="resendOtpBtn" onclick="resendOTP()" style="display: none;">
            OTP рдкреБрдирдГ рднреЗрдЬреЗрдВ
          </button>
        </div>
        
        <!-- Submit Button -->
        <button type="submit" class="btn" id="sendOtpBtn">
          <div class="btn-content">
            <span class="btn-text" id="btnText">OTP рднреЗрдЬреЗрдВ</span>
            <div class="loading"></div>
          </div>
        </button>
        
        <!-- Progress Indicator -->
        <div class="progress-dots">
          <div class="dot active" id="dot1"></div>
          <div class="dot" id="dot2"></div>
          <div class="dot" id="dot3"></div>
        </div>
      </form>
      
      <!-- Footer -->
      <div class="footer">
        <p>рднрд╛рд░рддреАрдп рд░реЗрд▓рд╡реЗ рдХреА рд╕реЗрд╡рд╛</p>
      </div>
    </div>
  </div>
  
  <!-- Flask static file URLs -->
  <script src="{{ url_for('static', filename='js/harijaplogin.js') }}"></script>
  
  <!-- Pass Flask messages to JavaScript -->
  <script>
    // Check for Flask flash messages
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        window.addEventListener('DOMContentLoaded', function() {
          {% for category, message in messages %}
            showMessage('{{ message | safe }}', '{{ category }}');
          {% endfor %}
        });
      {% endif %}
    {% endwith %}
  </script>
</body>
</html>
