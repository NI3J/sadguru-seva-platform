
<!DOCTYPE html>
<html lang="mr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ЁЯХЙя╕П Sadguru Baba Admin Dashboard</title>
  
  <!-- External Stylesheets -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/admin_dashboard.css') }}">
  <link href="https://fonts.googleapis.com/css2?family=Mukti:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>
<body>
  <div class="dashboard-container">
    <!-- Header Section -->
    <header class="dashboard-header">
      <div class="header-content">
        <h1 class="dashboard-title">ЁЯХЙя╕П Sadguru Baba Admin Dashboard</h1>
        <nav class="header-nav">
          <a href="{{ url_for('programs.programs') }}" class="nav-link">ЁЯУЕ рдХрд╛рд░реНрдпрдХреНрд░рдо рдкрд╣рд╛</a>
          {% if show_submission_form %}
            <div class="admin-info">
              <span class="admin-welcome">ЁЯЩП рд╕реНрд╡рд╛рдЧрдд, {{ session.get('admin_name', 'рдкреНрд░рд╢рд╛рд╕рдХ') }}!</span>
              <form method="POST" action="{{ url_for('admin.admin_dashboard') }}" class="logout-form">
                <input type="hidden" name="logout" value="1">
                <button type="submit" class="btn-logout">ЁЯЪк рд▓реЙрдЧ рдЖрдЙрдЯ</button>
              </form>
            </div>
          {% endif %}
        </nav>
      </div>
    </header>

    <!-- Main Content -->
    <main class="dashboard-main">
      {% if show_submission_form %}
        <!-- Program Submission Form -->
        <section class="program-submission-section">
          <div class="section-header">
            <h2 class="section-title">ЁЯУЭ рджреИрдирд┐рдХ рдХрд╛рд░реНрдпрдХреНрд░рдо рдиреЛрдВрджрд╡рд┐рдгреЗ</h2>
            <p class="section-description">рдирд╡реАрди рдХрд╛рд░реНрдпрдХреНрд░рдо рдЬреЛрдбрдгреНрдпрд╛рд╕рд╛рдареА рдЦрд╛рд▓реАрд▓ рдорд╛рд╣рд┐рддреА рднрд░рд╛</p>
          </div>
          
          <div class="form-wrapper">
            <form method="POST" action="{{ url_for('programs.submit_program') }}" id="programForm" class="program-form">
              <div class="form-row">
                <div class="form-group">
                  <label for="date" class="form-label">
                    <span class="label-icon">ЁЯУЖ</span>
                    <span class="label-text">рдХрд╛рд░реНрдпрдХреНрд░рдорд╛рдЪреА рддрд╛рд░реАрдЦ:</span>
                    <span class="required">*</span>
                  </label>
                  <input 
                    type="date" 
                    name="date" 
                    id="date" 
                    required 
                    class="form-input"
                    value="{{ request.form.get('date', '') }}"
                  >
                </div>
              </div>
              
              <div class="form-row">
                <div class="form-group">
                  <label for="content" class="form-label">
                    <span class="label-icon">ЁЯУЭ</span>
                    <span class="label-text">рдХрд╛рд░реНрдпрдХреНрд░рдо рддрдкрд╢реАрд▓:</span>
                    <span class="required">*</span>
                  </label>
                  <textarea 
                    name="content" 
                    id="content" 
                    rows="6" 
                    required 
                    class="form-textarea" 
                    placeholder="рдХрд╛рд░реНрдпрдХреНрд░рдорд╛рдЪреЗ рд╕рдВрдкреВрд░реНрдг рддрдкрд╢реАрд▓ рдпреЗрдереЗ рд▓рд┐рд╣рд╛... рдЙрджрд╛: рд╕рдХрд╛рд│ рен:режреж рд╡рд╛рдЬрддрд╛ рдЖрд░рддреА, рджреБрдкрд╛рд░реА резреи:режреж рд╡рд╛рдЬрддрд╛ рдорд╣рд╛рдкреНрд░рд╕рд╛рдж"
                    maxlength="500"
                  >{{ request.form.get('content', '') }}</textarea>
                  <div class="character-count">
                    <span id="charCount">0</span>/500 рдЕрдХреНрд╖рд░реЗ
                  </div>
                </div>
              </div>
              
              <div class="form-actions">
                <button type="submit" class="btn btn-primary" id="submitBtn">
                  <span class="btn-icon">ЁЯУд</span>
                  <span class="btn-text">рдХрд╛рд░реНрдпрдХреНрд░рдо рд╕рдмрдорд┐рдЯ рдХрд░рд╛</span>
                </button>
                <button type="reset" class="btn btn-secondary" id="resetBtn">
                  <span class="btn-icon">ЁЯФД</span>
                  <span class="btn-text">рд░реАрд╕реЗрдЯ рдХрд░рд╛</span>
                </button>
              </div>
            </form>
          </div>
        </section>

        <!-- Quick Actions Section -->
        <section class="quick-actions-section">
          <h3 class="section-title">тЪб рджреНрд░реБрдд рдХреГрддреА</h3>
          <div class="quick-actions-grid">
            <a href="{{ url_for('programs.programs') }}" class="quick-action-card">
              <div class="action-icon">ЁЯУЕ</div>
              <div class="action-content">
                <h4 class="action-title">рд╕рд░реНрд╡ рдХрд╛рд░реНрдпрдХреНрд░рдо рдкрд╣рд╛</h4>
                <p class="action-desc">рдЖрдЬрдкрд░реНрдпрдВрддрдЪреЗ рд╕рд░реНрд╡ рдХрд╛рд░реНрдпрдХреНрд░рдо рдкрд╣рд╛</p>
              </div>
            </a>
            
            <div class="quick-action-card" onclick="setTodayDate()">
              <div class="action-icon">ЁЯУН</div>
              <div class="action-content">
                <h4 class="action-title">рдЖрдЬрдЪреА рддрд╛рд░реАрдЦ рд╕реЗрдЯ рдХрд░рд╛</h4>
                <p class="action-desc">рдЖрдЬрдЪреА рддрд╛рд░реАрдЦ рдЖрдкреЛрдЖрдк рднрд░рд╛</p>
              </div>
            </div>
            
            <div class="quick-action-card" onclick="clearForm()">
              <div class="action-icon">ЁЯЧСя╕П</div>
              <div class="action-content">
                <h4 class="action-title">рдлреЙрд░реНрдо рд╕рд╛рдл рдХрд░рд╛</h4>
                <p class="action-desc">рд╕рд░реНрд╡ рдлреАрд▓реНрдб рд░рд┐рдХрд╛рдореЗ рдХрд░рд╛</p>
              </div>
            </div>
          </div>
        </section>

      {% else %}
        <!-- Admin Login/Verification Form -->
        <section class="admin-verification-section">
          <div class="verification-wrapper">
            <div class="verification-header">
              <div class="verification-icon">ЁЯФР</div>
              <h2 class="verification-title">рдкреНрд░рд╢рд╛рд╕рдХ рд╕рддреНрдпрд╛рдкрди</h2>
              <p class="verification-subtitle">рдХреГрдкрдпрд╛ рдЖрдкрд▓реА рдорд╛рд╣рд┐рддреА рдкреНрд░рд╡рд┐рд╖реНрдЯ рдХрд░рд╛</p>
            </div>
            
            <form method="POST" action="{{ url_for('admin.admin_dashboard') }}" id="loginForm" class="verification-form">
              <div class="form-group">
                <label for="name" class="form-label">
                  <span class="label-icon">ЁЯзСтАНЁЯТ╝</span>
                  <span class="label-text">рдЖрдкрд▓реЗ рдирд╛рд╡:</span>
                  <span class="required">*</span>
                </label>
                <input 
                  type="text" 
                  name="name" 
                  id="name" 
                  required 
                  class="form-input" 
                  placeholder="рдЖрдкрд▓реЗ рдкреВрд░реНрдг рдирд╛рд╡ рдкреНрд░рд╡рд┐рд╖реНрдЯ рдХрд░рд╛"
                  autocomplete="name"
                >
              </div>
              
              <div class="form-group">
                <label for="mobile" class="form-label">
                  <span class="label-icon">ЁЯУ▒</span>
                  <span class="label-text">рдореЛрдмрд╛рдИрд▓ рдХреНрд░рдорд╛рдВрдХ:</span>
                  <span class="required">*</span>
                </label>
                <input 
                  type="tel" 
                  name="mobile" 
                  id="mobile" 
                  required 
                  class="form-input" 
                  placeholder="10 рдЕрдВрдХреА рдореЛрдмрд╛рдИрд▓ рдХреНрд░рдорд╛рдВрдХ"
                  pattern="[0-9]{10}"
                  maxlength="10"
                  autocomplete="tel"
                >
              </div>
              
              <div class="form-actions">
                <button type="submit" class="btn btn-primary" id="verifyBtn">
                  <span class="btn-icon">ЁЯФУ</span>
                  <span class="btn-text">рдкреНрд░рд╡реЗрд╢ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░рд╛</span>
                </button>
              </div>
            </form>
            
            <div class="verification-footer">
              <div class="error-message">
                <span class="error-icon">тЪая╕П</span>
                <span class="error-text">рдлрдХреНрдд рдЕрдзрд┐рдХреГрдд рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХрд╛рдВрдирд╛ рдкреНрд░рд╡реЗрд╢ рдЖрд╣реЗ</span>
              </div>
            </div>
          </div>
        </section>
      {% endif %}
    </main>

    <!-- Flash Messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div class="flash-messages" id="flashMessages">
          {% for category, message in messages %}
            <div class="flash-message flash-{{ category }}">
              <span class="flash-icon">
                {% if category == 'success' %}тЬЕ
                {% elif category == 'error' %}тЭМ
                {% elif category == 'warning' %}тЪая╕П
                {% else %}тД╣я╕П{% endif %}
              </span>
              <span class="flash-text">{{ message }}</span>
              <button class="flash-close" aria-label="рдмрдВрдж рдХрд░рд╛">&times;</button>
            </div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    <!-- Footer -->
    <footer class="dashboard-footer">
      <div class="footer-content">
        <p class="footer-text">ЁЯХЙя╕П Sadguru Baba Admin Panel &copy; {{ current_date.year if current_date else '2025' }}</p>
        <div class="footer-links">
          <a href="{{ url_for('programs.programs') }}" class="footer-link">рдХрд╛рд░реНрдпрдХреНрд░рдо</a>
          <span class="footer-separator">|</span>
          <a href="#" class="footer-link">рдорджрдд</a>
        </div>
      </div>
    </footer>
  </div>

  <!-- Loading Spinner -->
  <div class="loading-overlay" id="loadingOverlay">
    <div class="loading-spinner">
      <div class="spinner"></div>
      <p class="loading-text">рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╣реЛрдд рдЖрд╣реЗ...</p>
    </div>
  </div>

  <!-- External Scripts -->
  <script src="{{ url_for('static', filename='js/admin_dashboard.js') }}"></script>
</body>
</html>
